{"version":3,"sources":["../../src/main.js"],"names":["isMobile","window","orientation","navigator","userAgent","indexOf","isIeOrEdgeBrowser","isIE","document","documentMode","isEdge","StyleMedia","bodyElem","querySelector","pageElem","videoElem","videoPlayer","swapScene","timer","scene","callbackFn","Promise","resolve","setTimeout","className","videoIntroOnPlay","removeEventListener","videoOnCanPlay","paused","videoIntroPlay","play","addEventListener","videoIntroEnd","destroyVideoTimer","clearTimeout","then","remove","sequenceElem","startSequence","goInFullscreen","diasTheEnd","changeImage","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","goOutFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dias","currIdx","diasElem","diasBarInnerElems","querySelectorAll","btnImagePrevNextElem","imageElems","imageSrcEle","imageMainEle","imageOptionElem","imageTitleTxtElem","imageDimensionsTxtElem","imageMaterialTxtElem","imageZoomLevelElem","pzArea","pz","panzoom","maxZoom","minZoom","zoomSpeed","smoothScroll","onTouch","imageSrcList","Array","from","map","img","Object","assign","dataset","src","title","removeBarInnerActiveTimer","isMouseDown","dest","changeZoomLevel","nextIdx","disabled","showGUI","length","style","backgroundImage","innerText","dimensions","material","moveTo","focus","isEnd","guiIsShowing","event","removeTimer","isImageContent","target","id","i","ele","display","hideGUI","diasClose","e","code","scale","getTransform","value","touchShowGUITimer","longTouchTimer","isLongTouch","type","setInterval","changeZoomFocusTimer","zoomValue","windowWidth","innerWidth","windowHeight","innerHeight","zoomAbs","isExhibition","location","search","includes","languageTextElems","langTextElem","en","innerHTML","activeLanguageElem","setLanguage","lang","paragraphElems","pElem","removeDots","createDots","styleDisplay","scrollTop"],"mappings":"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","sourcesContent":["const isMobile = (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1)\r\nconst isIeOrEdgeBrowser = () => {\r\n  let isIE = /*@cc_on!@*/false || !!document.documentMode\r\n  let isEdge = !isIE && !!window.StyleMedia\r\n  return isIE || isEdge\r\n}\r\n\r\nconst bodyElem = document.querySelector('body')\r\nconst pageElem = bodyElem.querySelector('#page')\r\nconst videoElem = document.querySelector('#video-intro')\r\nconst videoPlayer = videoElem.querySelector('#video-player')\r\n\r\nconst swapScene = ({timer, scene} = {}, callbackFn) => new Promise((resolve) => setTimeout(() => {\r\n    if(scene) bodyElem.className = scene\r\n    if(typeof callbackFn === 'function') callbackFn()\r\n    resolve()\r\n  }, timer || 0)\r\n)\r\n\r\nconst videoIntroOnPlay = () => {\r\n  swapScene({timer: 0, scene: 'display-video-intro'})\r\n  videoPlayer.removeEventListener('canplay', videoOnCanPlay, false)\r\n  videoPlayer.removeEventListener('timeupdate', videoIntroOnPlay, false) // discovered that at times \"canplay\" does not fire (firefox it occured) check if video time is updated as canplay\r\n}\r\n\r\nconst videoOnCanPlay = () => {\r\n  setTimeout(() => {\r\n    if(videoPlayer.paused) {\r\n      swapScene({timer: 0, scene: 'display-video-intro display-play-btn'})\r\n    }\r\n  }, 100)\r\n  videoPlayer.removeEventListener('canplay', videoOnCanPlay, false)\r\n}\r\n\r\nconst videoIntroPlay = () => videoPlayer.play()\r\n\r\nvideoPlayer.addEventListener('timeupdate', videoIntroOnPlay)\r\nvideoPlayer.addEventListener('canplay', videoOnCanPlay)\r\nvideoPlayer.addEventListener('ended', () => videoIntroEnd())\r\n\r\nconst destroyVideoTimer = setTimeout(() => {\r\n  if(videoPlayer.paused) {\r\n    // if video havent played yet at this time, just end it.\r\n    videoIntroEnd()\r\n  }\r\n}, 20000) // 20000 -- 20 s\r\n\r\nconst videoIntroEnd = () => {\r\n  clearTimeout(destroyVideoTimer)\r\n  videoPlayer.removeEventListener('timeupdate', videoIntroOnPlay, false)\r\n  videoPlayer.removeEventListener('canplay', videoOnCanPlay, false)\r\n  swapScene({timer: 0, scene: 'display-video-intro display-skip-video-intro display-acquisition'})\r\n  .then(() => swapScene({timer: 2500}, () => videoElem.remove()))\r\n  .then(() => swapScene({timer: 4000, scene: 'display-page'}))\r\n}\r\n\r\nconst sequenceElem = document.querySelector('#sequence')\r\nconst startSequence = () => {\r\n  const timer = 3000\r\n  goInFullscreen(bodyElem)\r\n  diasTheEnd(false)\r\n  swapScene({timer: 0, scene: 'display-sequence-intro pt1'})\r\n  .then(() => swapScene({timer, scene: 'display-sequence-intro pt2'}))\r\n  .then(() => swapScene({timer, scene: 'display-sequence-intro pt2 display-dias'}, () => changeImage(0, 0)))\r\n}\r\n\r\nconst goInFullscreen = (element) => {\r\n\tif(element.requestFullscreen) element.requestFullscreen()\r\n\telse if(element.mozRequestFullScreen) element.mozRequestFullScreen()\r\n\telse if(element.webkitRequestFullscreen) element.webkitRequestFullscreen()\r\n\telse if(element.msRequestFullscreen) element.msRequestFullscreen()\r\n}\r\nconst goOutFullscreen = (element) => {\r\n\tif(document.exitFullscreen) document.exitFullscreen()\r\n\telse if(document.mozCancelFullScreen) document.mozCancelFullScreen()\r\n\telse if(document.webkitExitFullscreen) document.webkitExitFullscreen()\r\n\telse if(document.msExitFullscreen) document.msExitFullscreen()\r\n}\r\n\r\n/**\r\n * DIAS \r\n*/\r\nconst dias = {currIdx: 0}\r\nconst diasElem = document.querySelector('#dias')\r\nconst diasBarInnerElems = document.querySelectorAll('#dias .bar-inner')\r\nconst btnImagePrevNextElem = document.querySelector('#btn-image-prev-next')\r\nconst imageElems = diasElem.querySelector('#image-provider').querySelectorAll('img')\r\nconst imageSrcEle = diasElem.querySelector('#image-src #image-content')\r\nconst imageMainEle = diasElem.querySelector('#image-main')\r\nconst imageOptionElem = diasElem.querySelector('.image-option')\r\nconst imageTitleTxtElem = diasElem.querySelector('h1.image-title') \r\nconst imageDimensionsTxtElem = diasElem.querySelector('p.image-details .image-dimensions')\r\nconst imageMaterialTxtElem = diasElem.querySelector('p.image-details .image-material')\r\nconst imageZoomLevelElem = diasElem.querySelector('#image-zoom-level')\r\n\r\nconst pzArea = document.querySelector('#image-src')\r\n\r\nconst pz = panzoom(\r\n  pzArea, {\r\n    maxZoom: 3.33, \r\n    minZoom: 1, \r\n    zoomSpeed: isMobile ? 0.077 : 0.02, \r\n    smoothScroll: false, \r\n    onTouch: () => {\r\n      return false\r\n\r\n    }\r\n  }\r\n)\r\n\r\nconst imageSrcList = Array.from(imageElems).map(img => Object.assign(\r\n  {\r\n    ...img.dataset,\r\n    src: img.src,\r\n    title: img.title,\r\n  }\r\n))\r\n\r\nlet removeBarInnerActiveTimer\r\nlet isMouseDown = false\r\nconst changeImage = (dest, currIdx = dias.currIdx) => {\r\n  changeZoomLevel(0)\r\n  const nextIdx = currIdx + dest\r\n  btnImagePrevNextElem.querySelector('.btn-prev').disabled = nextIdx <= 0\r\n  clearTimeout(removeBarInnerActiveTimer)\r\n  showGUI(false, 3300)\r\n  if(nextIdx < 0) return\r\n  else if(nextIdx > imageSrcList.length - 1) {\r\n    dias.currIdx = dias.currIdx >= imageSrcList.length ? dias.currIdx : nextIdx /* \r\n      treat \"the end\" as if was part of image sequence, so add to the dias current idx.\r\n      when try to skip to next image deny when, reached the end\r\n    */\r\n    return diasTheEnd(true)\r\n  }\r\n  diasTheEnd(false)\r\n  const img = imageSrcList[nextIdx]\r\n  dias.currIdx = nextIdx\r\n  imageSrcEle.style.backgroundImage = `url(${img.src})`\r\n  imageTitleTxtElem.innerText = img.title\r\n  imageDimensionsTxtElem.innerText = img.dimensions\r\n  imageMaterialTxtElem.innerText = img.material\r\n  pz.moveTo(0,0)\r\n  setTimeout(() => pzArea.focus(), 2200)\r\n}\r\n\r\nconst diasTheEnd = (isEnd) => {\r\n  if(isEnd) {\r\n    diasElem.className = 'display-dias-the-end'\r\n    btnImagePrevNextElem.querySelector('.btn-next').disabled = true\r\n  }\r\n  else {\r\n    diasElem.className = ''\r\n    btnImagePrevNextElem.querySelector('.btn-next').disabled = false\r\n  }\r\n}\r\n\r\nlet guiIsShowing = false\r\nconst showGUI = (event, removeTimer) => {\r\n  clearTimeout(removeBarInnerActiveTimer)\r\n  const isImageContent = event && event.target.id === 'image-content'\r\n  if(isMouseDown == false) {\r\n    // for(let ele of diasBarInnerElems) ele.className = 'bar-inner active'\r\n    for(let i = 0; i < diasBarInnerElems.length; i++) {\r\n      let ele = diasBarInnerElems[i]\r\n      ele.className = 'bar-inner active'\r\n    }\r\n    btnImagePrevNextElem.style.display = 'block'\r\n    guiIsShowing = true\r\n  }\r\n  removeBarInnerActiveTimer = setTimeout( () => {\r\n    if(isMobile || isImageContent) {\r\n      hideGUI()\r\n    }\r\n  }, removeTimer || 720)\r\n}\r\n\r\nconst hideGUI = () => {\r\n  for(let i = 0; i < diasBarInnerElems.length; i++) {\r\n    let ele = diasBarInnerElems[i]\r\n    ele.className = 'bar-inner'\r\n  }\r\n  btnImagePrevNextElem.style.display = 'none'\r\n  guiIsShowing = false\r\n}\r\n\r\nconst diasClose = () => {\r\n  goOutFullscreen(bodyElem)\r\n  swapScene({timer: 0, scene: 'display-page'})\r\n}\r\n\r\nif(isIeOrEdgeBrowser()) {\r\n  sequenceElem.className = 'ie-or-edge'\r\n}\r\nif(!isMobile) {\r\n  diasElem.addEventListener('keydown', (e) => {\r\n    if(e.code == 'Digit0' || e.code == 'Escape') {\r\n      changeZoomLevel(0)\r\n      pz.moveTo(0,0)\r\n    }\r\n    if(e.code == 'Space') {\r\n      // Bring to center ?\r\n    }\r\n  })\r\n  diasElem.addEventListener('keyup', (e) => {\r\n    const scale = pz.getTransform().scale\r\n    if(scale > 1) return\r\n    if(e.code == 'ArrowLeft') changeImage(-1)\r\n    if(e.code == 'ArrowRight') changeImage(+1)\r\n  })\r\n  diasElem.addEventListener('mousemove', (event) => {\r\n    showGUI(event)\r\n  })\r\n  diasElem.addEventListener('mousedown', (event) => {\r\n    isMouseDown = true\r\n    const isImageContent = event.target.id === 'image-content'\r\n    if(isImageContent) hideGUI(event)\r\n  })\r\n  diasElem.addEventListener('mouseup', (event) => {\r\n    isMouseDown = false\r\n    const scale = pz.getTransform().scale\r\n    imageZoomLevelElem.value = scale\r\n  })\r\n  diasElem.addEventListener('mousewheel', (event) => {\r\n    const scale = pz.getTransform().scale\r\n    imageZoomLevelElem.value = scale\r\n  })\r\n}\r\nelse {\r\n  let touchShowGUITimer\r\n  let longTouchTimer\r\n  let isLongTouch = false\r\n  diasElem.addEventListener('panstart', () => {\r\n    clearTimeout(touchShowGUITimer)\r\n    hideGUI() // hide gui when moving picture\r\n  })\r\n  diasElem.addEventListener('touchstart', (e) => {\r\n    clearTimeout(longTouchTimer)\r\n    clearTimeout(touchShowGUITimer)\r\n    isLongTouch = false\r\n    if(e.target.type === 'button') return // when target is button skip further logic\r\n    if(guiIsShowing) {\r\n      clearTimeout(removeBarInnerActiveTimer)\r\n      hideGUI()\r\n    }\r\n    else {\r\n      longTouchTimer = setTimeout(() => isLongTouch = true, 325)\r\n      touchShowGUITimer = setTimeout(() => {\r\n        if(isLongTouch === false) showGUI(false, 3300)\r\n      }, 330)\r\n    }\r\n  })\r\n  diasElem.addEventListener('touchend', (e) => {\r\n    clearTimeout(longTouchTimer)\r\n    if(isLongTouch) {\r\n      clearTimeout(touchShowGUITimer)\r\n    }\r\n  })\r\n}\r\n\r\nsetInterval( () => { // workaround to deny pan/move when image is not zoomed\r\n  const scale = pz.getTransform().scale\r\n  imageZoomLevelElem.value = scale\r\n  if(scale == 1) pz.moveTo(0,0)\r\n}, 2)\r\n\r\nlet changeZoomFocusTimer\r\nconst changeZoomLevel = (zoomValue) => {\r\n  clearTimeout(changeZoomFocusTimer)\r\n  const windowWidth = window.innerWidth\r\n  const windowHeight = window.innerHeight\r\n  pz.zoomAbs(windowWidth / 2, windowHeight / 2, zoomValue)\r\n  if(zoomValue == 1) pz.moveTo(0, 0) // center\r\n  changeZoomFocusTimer = setTimeout( () => pzArea.focus(), 720)\r\n}\r\n\r\nconst isExhibition = window.location.search.includes('exhibition')\r\nif(isExhibition) {\r\n  imageOptionElem.remove()\r\n  videoIntroEnd(true)\r\n  startSequence()\r\n}\r\n\r\nconst languageTextElems = document.querySelectorAll('[data-da]')\r\nfor(let i = 0; i < languageTextElems.length; i++) { // must run before jitter create dots, or it will produce 'dot elements' in dataset.en\r\n  let langTextElem = languageTextElems[i]\r\n  langTextElem.dataset.en = langTextElem.innerHTML\r\n}\r\n\r\n\r\nconst activeLanguageElem = document.querySelector('.active-language')\r\nconst setLanguage = (lang) => {\r\n  for(let i = 0; i < languageTextElems.length; i++) {\r\n    let langTextElem = languageTextElems[i]\r\n    activeLanguageElem.className = 'active-language '+lang\r\n    langTextElem.innerHTML = langTextElem.dataset[lang]\r\n    let paragraphElems = langTextElem.querySelectorAll('p')\r\n    for(let i = 0; i < paragraphElems.length; i++){\r\n      let pElem = paragraphElems[i]\r\n      pElem.className=\"jitter-dots\"\r\n    }\r\n  }\r\n  removeDots()\r\n  createDots(document.querySelectorAll('.jitter-dots'))\r\n}\r\n\r\npageElem.addEventListener('scroll', (e) => {\r\n  let styleDisplay =  e.target.scrollTop > 40 ? 'none' : 'block'\r\n  activeLanguageElem.style.display = styleDisplay\r\n})"],"file":"main.js"}