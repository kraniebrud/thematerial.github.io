{"version":3,"sources":["../src.main.js"],"names":[],"mappings":"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","file":"compiled.main.js","sourcesContent":["const isMobile = (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1)\r\n\r\nconst bodyElem = document.querySelector('body')\r\nconst pageElem = bodyElem.querySelector('#page')\r\nconst videoElem = document.querySelector('#video-intro')\r\nconst videoPlayer = videoElem.querySelector('#video-player')\r\n\r\nconst swapScene = ({timer, scene} = {}, callbackFn) => new Promise((resolve) => setTimeout(() => {\r\n    if(scene) bodyElem.className = scene\r\n    if(typeof callbackFn === 'function') callbackFn()\r\n    resolve()\r\n  }, timer || 0)\r\n)\r\n\r\nconst videoTimeUpdate = () => {\r\n  swapScene({timer: 0, scene: 'display-video-intro'})\r\n  videoPlayer.removeEventListener('timeupdate', videoTimeUpdate, false)\r\n}\r\nvideoPlayer.addEventListener('timeupdate', videoTimeUpdate)\r\nvideoPlayer.addEventListener('ended', () => videoIntroEnd())\r\n\r\nconst videoIntroEnd = () => (\r\n  swapScene({timer: 0, scene: 'display-video-intro display-skip-video-intro display-acquisition'})\r\n  .then(() => swapScene({timer: 2500}, () => videoElem.remove()))\r\n  .then(() => swapScene({timer: 4000, scene: 'display-page'}))\r\n)\r\n\r\n// videoIntroEnd() // <-- remove for video play at start\r\n\r\nconst sequenceElem = document.querySelector('#sequence')\r\nconst startSequence = () => {\r\n  const timer = 3000\r\n  goInFullscreen(bodyElem)\r\n  diasTheEnd(false)\r\n  swapScene({timer: 0, scene: 'display-sequence-intro pt1'})\r\n  .then(() => swapScene({timer, scene: 'display-sequence-intro pt2'}))\r\n  .then(() => swapScene({timer, scene: 'display-sequence-intro pt2 display-dias'}, () => changeImage(0, 0)))\r\n}\r\n\r\nconst goInFullscreen = (element) => {\r\n\tif(element.requestFullscreen) element.requestFullscreen()\r\n\telse if(element.mozRequestFullScreen) element.mozRequestFullScreen()\r\n\telse if(element.webkitRequestFullscreen) element.webkitRequestFullscreen()\r\n\telse if(element.msRequestFullscreen) element.msRequestFullscreen()\r\n}\r\nconst goOutFullscreen = (element) => {\r\n\tif(document.exitFullscreen) document.exitFullscreen()\r\n\telse if(document.mozCancelFullScreen) document.mozCancelFullScreen()\r\n\telse if(document.webkitExitFullscreen) document.webkitExitFullscreen()\r\n\telse if(document.msExitFullscreen) document.msExitFullscreen()\r\n}\r\n\r\n/**\r\n * DIAS \r\n*/\r\nconst dias = {currIdx: 0}\r\nconst diasElem = document.querySelector('#dias')\r\nconst diasBarInnerElems = document.querySelectorAll('#dias .bar-inner')\r\nconst btnImagePrevNextElem = document.querySelector('#btn-image-prev-next')\r\nconst imageElems = diasElem.querySelector('#image-provider').querySelectorAll('img')\r\nconst imageSrcEle = diasElem.querySelector('#image-src')\r\nconst imageMainEle = diasElem.querySelector('#image-main')\r\nconst imageOptionElem = diasElem.querySelector('.image-option')\r\nconst imageTitleTxtElem = diasElem.querySelector('h1.image-title') \r\nconst imageDimensionsTxtElem = diasElem.querySelector('p.image-details .image-dimensions')\r\nconst imageMaterialTxtElem = diasElem.querySelector('p.image-details .image-material')\r\nconst imageZoomLevelElem = diasElem.querySelector('#image-zoom-level')\r\n\r\nconst pzArea = document.querySelector('#image-src')\r\n\r\nconst pz = panzoom(\r\n  pzArea, {\r\n    maxZoom: 3.33, \r\n    minZoom: 1, \r\n    zoomSpeed: isMobile ? 0.077 : 0.02, \r\n    smoothScroll: false, \r\n    onTouch: () => {\r\n      return false\r\n\r\n    }\r\n  }\r\n)\r\n\r\nconst imageSrcList = Array.from(imageElems).map(img => Object.assign(\r\n  {\r\n    ...img.dataset,\r\n    src: img.src,\r\n    title: img.title,\r\n  }\r\n))\r\n\r\nlet removeBarInnerActiveTimer\r\nlet isMouseDown = false\r\nconst changeImage = (dest, currIdx = dias.currIdx) => {\r\n  changeZoomLevel(0)\r\n  const nextIdx = currIdx + dest\r\n  btnImagePrevNextElem.querySelector('.btn-prev').disabled = nextIdx <= 0\r\n  clearTimeout(removeBarInnerActiveTimer)\r\n  showGUI(false, 3300)\r\n  if(nextIdx < 0) return\r\n  else if(nextIdx > imageSrcList.length - 1) {\r\n    dias.currIdx = dias.currIdx >= imageSrcList.length ? dias.currIdx : nextIdx /* \r\n      treat \"the end\" as if was part of image sequence, so add to the dias current idx.\r\n      when try to skip to next image deny when, reached the end\r\n    */\r\n    return diasTheEnd(true)\r\n  }\r\n  diasTheEnd(false)\r\n  const img = imageSrcList[nextIdx]\r\n  dias.currIdx = nextIdx\r\n  imageSrcEle.style.backgroundImage = `url(${img.src})`\r\n  imageTitleTxtElem.innerText = img.title\r\n  imageDimensionsTxtElem.innerText = img.dimensions\r\n  imageMaterialTxtElem.innerText = img.material\r\n  pz.moveTo(0,0)\r\n  setTimeout(() => pzArea.focus(), 2200)\r\n}\r\n\r\nconst diasTheEnd = (isEnd) => {\r\n  if(isEnd) {\r\n    diasElem.className = 'display-dias-the-end'\r\n    btnImagePrevNextElem.querySelector('.btn-next').disabled = true\r\n  }\r\n  else {\r\n    diasElem.className = ''\r\n    btnImagePrevNextElem.querySelector('.btn-next').disabled = false\r\n  }\r\n}\r\n\r\nlet guiIsShowing = false\r\nconst showGUI = (event, removeTimer) => {\r\n  clearTimeout(removeBarInnerActiveTimer)\r\n  const isImageContent = event && event.target.id === 'image-content'\r\n  if(isMouseDown == false) {\r\n    diasBarInnerElems.forEach(ele => ele.className = 'bar-inner active')\r\n    btnImagePrevNextElem.style.display = 'block'\r\n    guiIsShowing = true\r\n  }\r\n  removeBarInnerActiveTimer = setTimeout( () => {\r\n    if(isMobile || isImageContent) {\r\n      hideGUI()\r\n    }\r\n  }, removeTimer || 720)\r\n}\r\n\r\nconst hideGUI = () => {\r\n  diasBarInnerElems.forEach(ele => ele.className = 'bar-inner')\r\n  btnImagePrevNextElem.style.display = 'none'\r\n  guiIsShowing = false\r\n}\r\n\r\nconst diasClose = () => {\r\n  goOutFullscreen(bodyElem)\r\n  swapScene({timer: 0, scene: 'display-page'})\r\n}\r\n\r\nif(!isMobile) {\r\n  diasElem.addEventListener('keydown', (e) => {\r\n    if(e.code == 'Digit0' || e.code == 'Escape') {\r\n      changeZoomLevel(0)\r\n      pz.moveTo(0,0)\r\n    }\r\n    if(e.code == 'Space') {\r\n      // Bring to center ?\r\n    }\r\n  })\r\n  diasElem.addEventListener('keyup', (e) => {\r\n    const scale = pz.getTransform().scale\r\n    if(scale > 1) return\r\n    if(e.code == 'ArrowLeft') changeImage(-1)\r\n    if(e.code == 'ArrowRight') changeImage(+1)\r\n  })\r\n  diasElem.addEventListener('mousemove', (event) => {\r\n    showGUI(event)\r\n  })\r\n  diasElem.addEventListener('mousedown', (event) => {\r\n    isMouseDown = true\r\n    const isImageContent = event.target.id === 'image-content'\r\n    if(isImageContent) hideGUI(event)\r\n  })\r\n  diasElem.addEventListener('mouseup', (event) => {\r\n    isMouseDown = false\r\n    const scale = pz.getTransform().scale\r\n    imageZoomLevelElem.value = scale\r\n  })\r\n  diasElem.addEventListener('mousewheel', (event) => {\r\n    const scale = pz.getTransform().scale\r\n    imageZoomLevelElem.value = scale\r\n  })\r\n}\r\nelse {\r\n  let touchShowGUITimer\r\n  let longTouchTimer\r\n  let isLongTouch = false\r\n  diasElem.addEventListener('panstart', () => {\r\n    clearTimeout(touchShowGUITimer)\r\n    hideGUI() // hide gui when moving picture\r\n  })\r\n  diasElem.addEventListener('touchstart', (e) => {\r\n    clearTimeout(longTouchTimer)\r\n    clearTimeout(touchShowGUITimer)\r\n    isLongTouch = false\r\n    if(e.target.type === 'button') return // when target is button skip further logic\r\n    if(guiIsShowing) {\r\n      clearTimeout(removeBarInnerActiveTimer)\r\n      hideGUI()\r\n    }\r\n    else {\r\n      longTouchTimer = setTimeout(() => isLongTouch = true, 325)\r\n      touchShowGUITimer = setTimeout(() => {\r\n        if(isLongTouch === false) showGUI(false, 3300)\r\n      }, 330)\r\n    }\r\n  })\r\n  diasElem.addEventListener('touchend', (e) => {\r\n    clearTimeout(longTouchTimer)\r\n    if(isLongTouch) {\r\n      clearTimeout(touchShowGUITimer)\r\n    }\r\n  })\r\n}\r\n\r\nsetInterval( () => { // workaround to deny pan/move when image is not zoomed\r\n  const scale = pz.getTransform().scale\r\n  imageZoomLevelElem.value = scale\r\n  if(scale == 1) pz.moveTo(0,0)\r\n}, 2)\r\n\r\nlet changeZoomFocusTimer\r\nconst changeZoomLevel = (zoomValue) => {\r\n  clearTimeout(changeZoomFocusTimer)\r\n  const windowWidth = window.innerWidth\r\n  const windowHeight = window.innerHeight\r\n  pz.zoomAbs(windowWidth / 2, windowHeight / 2, zoomValue)\r\n  if(zoomValue == 1) pz.moveTo(0, 0) // center\r\n  changeZoomFocusTimer = setTimeout( () => pzArea.focus(), 720)\r\n}\r\n\r\nconst isExhibition = window.location.search.includes('exhibition')\r\nif(isExhibition) {\r\n  imageOptionElem.remove()\r\n  videoIntroEnd(true)\r\n  startSequence()\r\n}\r\n\r\nconst randNumber = (min, max) => {\r\n  let num = Math.floor(Math.random() * max)+min\r\n  return num <= min ? min : num\r\n}\r\n\r\n\r\nconst languageTextElems = document.querySelectorAll('[data-da]')\r\nfor(let langTextElem of languageTextElems) { // must run before jitter create dots, or it will produce 'dot elements' in dataset.en\r\n  langTextElem.dataset.en = langTextElem.innerHTML\r\n}\r\n\r\nconst activeLanguageElem = document.querySelector('.active-language')\r\nconst setLanguage = (lang) => {\r\n  for(let langTextElem of languageTextElems) {\r\n    activeLanguageElem.className = 'active-language '+lang\r\n    langTextElem.innerHTML = langTextElem.dataset[lang]\r\n    for(let p of langTextElem.querySelectorAll('p')){\r\n      p.className=\"jitter-dots\"\r\n    }\r\n  }\r\n  removeDots()\r\n  createDots(document.querySelectorAll('.jitter-dots'))\r\n}\r\n\r\npageElem.addEventListener('scroll', (e) => {\r\n  let styleDisplay =  e.target.scrollTop > 40 ? 'none' : 'block'\r\n  activeLanguageElem.style.display = styleDisplay\r\n})\r\n\r\nconst jitterDotElems = document.querySelectorAll('.jitter-dots')\r\nconst createDots = (jdElems = jitterDotElems) => {\r\n  for(let jdElem of jdElems) {\r\n    for(let i = 0; i < randNumber(3, 6); i++) {\r\n      let dotElem = document.createElement('span')\r\n      dotElem.className = 'dot'\r\n      jdElem.appendChild(dotElem)\r\n    }\r\n  }\r\n}\r\n\r\nconst removeDots = () =>  {\r\n  const dotsInJitterDotsElem = document.querySelectorAll('.jitter-dots .dot')\r\n  for(let dotElem of dotsInJitterDotsElem) {\r\n    dotElem.remove()\r\n  }\r\n}\r\n\r\nconst spreadDots = (jdElems = jitterDotElems) => {\r\n  for(let jdElem of jdElems) {\r\n    let [maxTop, maxLeft] = [jdElem.clientHeight, jdElem.clientWidth]\r\n    let dotElems = jdElem.querySelectorAll('.dot')\r\n    for(let dotElem of dotElems) {\r\n      // console.log(randNumber(0,1))\r\n      if(randNumber(0, 3) > 0) { // only move sometimes\r\n        dotElem.style.top = randNumber(0, maxTop)+'px'\r\n        dotElem.style.left = randNumber(0, maxLeft)+'px'\r\n        dotElem.style.padding = randNumber(1, 3)+'px' // dot size\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ncreateDots()\r\n\r\nsetInterval(() => spreadDots(document.querySelectorAll('.jitter-dots')), 2000) // query dots on now to get exacts size if changed since then\r\n\r\nconst noDownloadYetPrompt = () => alert(\r\n  'Download is not possible until the full release of Facts & Possibilities, January 1, 2019'\r\n)"]}